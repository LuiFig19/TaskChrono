@import 'tailwindcss';

/* Tier selection page (/get-started) - light mode */
html:not(.dark) [data-tier-selection-page] {
  background: linear-gradient(to bottom, #f9fafb, #ffffff) !important;
}

/* Tier cards - Colored backgrounds (light mode) - HIGH SPECIFICITY */
html:not(.dark) a.tier-card[data-tier-card='FREE'],
a.tier-card[data-tier-card='FREE'] {
  background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%) !important;
  border-color: #6ee7b7 !important;
}

html:not(.dark) a.tier-card[data-tier-card='FREE']:hover,
a.tier-card[data-tier-card='FREE']:hover {
  background: linear-gradient(135deg, #a7f3d0 0%, #6ee7b7 100%) !important;
  border-color: #10b981 !important;
  box-shadow: 0 12px 32px rgba(16, 185, 129, 0.3) !important;
  transform: translateY(-4px) scale(1.01);
}

html:not(.dark) a.tier-card[data-tier-card='BUSINESS'],
a.tier-card[data-tier-card='BUSINESS'] {
  background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%) !important;
  border-color: #60a5fa !important;
}

html:not(.dark) a.tier-card[data-tier-card='BUSINESS']:hover,
a.tier-card[data-tier-card='BUSINESS']:hover {
  background: linear-gradient(135deg, #bfdbfe 0%, #93c5fd 100%) !important;
  border-color: #3b82f6 !important;
  box-shadow: 0 12px 32px rgba(59, 130, 246, 0.3) !important;
  transform: translateY(-4px) scale(1.01);
}

html:not(.dark) a.tier-card[data-tier-card='ENTERPRISE'],
a.tier-card[data-tier-card='ENTERPRISE'] {
  background: linear-gradient(135deg, #fed7aa 0%, #fdba74 100%) !important;
  border-color: #fb923c !important;
}

html:not(.dark) a.tier-card[data-tier-card='ENTERPRISE']:hover,
a.tier-card[data-tier-card='ENTERPRISE']:hover {
  background: linear-gradient(135deg, #fdba74 0%, #fb923c 100%) !important;
  border-color: #f97316 !important;
  box-shadow: 0 12px 32px rgba(249, 115, 22, 0.3) !important;
  transform: translateY(-4px) scale(1.01);
}

html:not(.dark) a.tier-card[data-tier-card='CUSTOM'],
a.tier-card[data-tier-card='CUSTOM'] {
  background: linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 100%) !important;
  border-color: #c084fc !important;
}

html:not(.dark) a.tier-card[data-tier-card='CUSTOM']:hover,
a.tier-card[data-tier-card='CUSTOM']:hover {
  background: linear-gradient(135deg, #e9d5ff 0%, #d8b4fe 100%) !important;
  border-color: #a855f7 !important;
  box-shadow: 0 12px 32px rgba(168, 85, 247, 0.3) !important;
  transform: translateY(-4px) scale(1.01);
}

/* Dark mode override - make cards dark again */
html.dark .tier-card {
  background: rgba(15, 23, 42, 0.6) !important;
  border-color: rgb(30, 41, 59) !important;
}

html.dark .tier-card:hover {
  background: rgba(15, 23, 42, 0.8) !important;
  border-color: rgb(51, 65, 85) !important;
  box-shadow:
    0 0 0 1px rgba(99, 102, 241, 0.4),
    0 10px 40px -10px rgba(0, 0, 0, 0.7) !important;
  transform: translateY(-2px);
}

/* Tier selection page (/get-started) - dark mode colored cards */
html.dark a.tier-card[data-tier-card='FREE'],
html.dark .tier-card[data-tier-card='FREE'] {
  background: linear-gradient(
    135deg,
    rgba(16, 185, 129, 0.18) 0%,
    rgba(6, 95, 70, 0.18) 100%
  ) !important; /* emerald */
  border-color: rgba(16, 185, 129, 0.35) !important;
}
html.dark a.tier-card[data-tier-card='FREE']:hover,
html.dark .tier-card[data-tier-card='FREE']:hover {
  background: linear-gradient(
    135deg,
    rgba(16, 185, 129, 0.28) 0%,
    rgba(6, 95, 70, 0.28) 100%
  ) !important;
  border-color: rgba(52, 211, 153, 0.55) !important;
}

html.dark a.tier-card[data-tier-card='BUSINESS'],
html.dark .tier-card[data-tier-card='BUSINESS'] {
  background: linear-gradient(
    135deg,
    rgba(59, 130, 246, 0.18) 0%,
    rgba(30, 64, 175, 0.18) 100%
  ) !important; /* blue */
  border-color: rgba(59, 130, 246, 0.35) !important;
}
html.dark a.tier-card[data-tier-card='BUSINESS']:hover,
html.dark .tier-card[data-tier-card='BUSINESS']:hover {
  background: linear-gradient(
    135deg,
    rgba(59, 130, 246, 0.28) 0%,
    rgba(30, 64, 175, 0.28) 100%
  ) !important;
  border-color: rgba(147, 197, 253, 0.55) !important;
}

html.dark a.tier-card[data-tier-card='ENTERPRISE'],
html.dark .tier-card[data-tier-card='ENTERPRISE'] {
  background: linear-gradient(
    135deg,
    rgba(249, 115, 22, 0.18) 0%,
    rgba(180, 83, 9, 0.18) 100%
  ) !important; /* orange */
  border-color: rgba(249, 115, 22, 0.35) !important;
}
html.dark a.tier-card[data-tier-card='ENTERPRISE']:hover,
html.dark .tier-card[data-tier-card='ENTERPRISE']:hover {
  background: linear-gradient(
    135deg,
    rgba(249, 115, 22, 0.28) 0%,
    rgba(180, 83, 9, 0.28) 100%
  ) !important;
  border-color: rgba(251, 146, 60, 0.55) !important;
}

html.dark a.tier-card[data-tier-card='CUSTOM'],
html.dark .tier-card[data-tier-card='CUSTOM'] {
  background: linear-gradient(
    135deg,
    rgba(139, 92, 246, 0.18) 0%,
    rgba(91, 33, 182, 0.18) 100%
  ) !important; /* purple */
  border-color: rgba(139, 92, 246, 0.35) !important;
}
html.dark a.tier-card[data-tier-card='CUSTOM']:hover,
html.dark .tier-card[data-tier-card='CUSTOM']:hover {
  background: linear-gradient(
    135deg,
    rgba(139, 92, 246, 0.28) 0%,
    rgba(91, 33, 182, 0.28) 100%
  ) !important;
  border-color: rgba(167, 139, 250, 0.55) !important;
}

/* Pricing cards - light mode visual upgrade */
html:not(.dark) #pricing .pricing-card {
  background: linear-gradient(180deg, #ffffff 0%, #f8faff 100%) !important;
  border: 1px solid #d8dee4 !important;
  box-shadow:
    0 10px 30px rgba(15, 23, 42, 0.08),
    0 4px 10px rgba(15, 23, 42, 0.06) !important;
  color: #0f172a !important;
}
html:not(.dark) #pricing .pricing-card .price {
  color: #111827 !important;
}
html:not(.dark) #pricing .pricing-card .blurb {
  color: #475569 !important;
}
html:not(.dark) #pricing .pricing-card:hover {
  transform: translateY(-6px);
  border-color: #3b82f6 !important;
  box-shadow:
    0 20px 40px rgba(59, 130, 246, 0.18),
    0 8px 18px rgba(59, 130, 246, 0.12) !important;
}
html:not(.dark) #pricing .pricing-card--highlight {
  border-color: #8b5cf6 !important;
  box-shadow:
    0 16px 36px rgba(139, 92, 246, 0.22),
    0 6px 16px rgba(139, 92, 246, 0.16) !important;
}

/* Landing bottom pricing cards (separate component) */
html:not(.dark) #pricing .tc-pricing-card {
  background: linear-gradient(180deg, #ffffff 0%, #f3f6fb 100%) !important; /* subtle depth */
  border: 1px solid #e2e8f0 !important;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05) !important;
}
html:not(.dark) #pricing .tc-pricing-card:hover {
  transform: translateY(-4px);
  border-color: #93c5fd !important;
  box-shadow: 0 8px 16px rgba(59, 130, 246, 0.1) !important;
  transition: all 0.25s ease;
}
html:not(.dark) #pricing {
  background-color: #f6f8fb;
}
html:not(.dark) #pricing .tc-pricing-card {
  border-radius: 16px !important;
}
html:not(.dark) #pricing .tc-pricing-card .badge {
  background: linear-gradient(90deg, #6366f1, #3b82f6) !important;
  color: #ffffff !important;
  box-shadow: 0 0 8px rgba(99, 102, 241, 0.3) !important;
}
html:not(.dark) #pricing .tc-pricing-cta {
  border: none !important;
  color: #ffffff !important;
  border-radius: 10px !important;
  font-weight: 600 !important;
  transition: all 0.25s ease !important;
}
html:not(.dark) #pricing .tc-cta-green {
  background: linear-gradient(90deg, #10b981, #22c55e) !important;
  box-shadow: 0 6px 14px rgba(16, 185, 129, 0.3) !important;
}
html:not(.dark) #pricing .tc-cta-blue {
  background: linear-gradient(90deg, #4f46e5, #3b82f6) !important;
  box-shadow: 0 6px 14px rgba(59, 130, 246, 0.25) !important;
}
html:not(.dark) #pricing .tc-cta-orange {
  background: linear-gradient(90deg, #f59e0b, #f97316) !important;
  box-shadow: 0 6px 14px rgba(249, 115, 22, 0.28) !important;
}
html:not(.dark) #pricing .tc-pricing-cta:hover {
  filter: brightness(1.1);
  transform: translateY(-1px);
}
html:not(.dark) #pricing .title {
  color: #1e293b !important;
}
html:not(.dark) #pricing .price,
html:not(.dark) #pricing .blurb,
html:not(.dark) #pricing ul {
  color: #475569 !important;
}

/* Blue tint for "Most Popular" highlighted tier */
html:not(.dark) #pricing .tc-pricing-card--popular {
  background: linear-gradient(
    180deg,
    rgba(219, 234, 254, 0.55) 0%,
    rgba(255, 255, 255, 0.9) 35%
  ) !important; /* blue-100 tint */
  border-color: #93c5fd !important;
  box-shadow:
    0 12px 28px rgba(59, 130, 246, 0.18),
    0 4px 12px rgba(59, 130, 246, 0.12) !important;
}
/* CTA buttons in light mode: convert key CTAs to blue while preserving dark mode */
html:not(.dark) a[data-inventory-cta],
html:not(.dark) button[data-progress-add],
html:not(.dark) a[data-inventory-cta],
html:not(.dark) button[data-progress-add] {
  background-color: #2563eb !important; /* blue-600 */
  border-color: #3b82f6 !important; /* blue-500 */
  color: #ffffff !important;
  box-shadow: none !important; /* remove glow */
  border-width: 1px !important;
  background-image: none !important;
  border-radius: 9999px !important; /* pill shape */
}

/* Light-mode: make Open Timers CTA a pill and keep blue */
html:not(.dark) a[data-timers-cta] {
  background-color: #2563eb !important; /* blue-600 */
  border-color: #3b82f6 !important; /* blue-500 */
  color: #ffffff !important;
  border-width: 1px !important;
  border-style: solid !important;
  background-image: none !important;
  border-radius: 9999px !important;
  box-shadow: none !important;
}
html:not(.dark) a[data-inventory-cta]:hover,
html:not(.dark) button[data-progress-add]:hover,
html:not(.dark) a[data-inventory-cta]:hover,
html:not(.dark) button[data-progress-add]:hover {
  background-color: #1d4ed8 !important; /* blue-700 */
}

/* Ensure Add Progress Bar is a pill in light mode */
html:not(.dark) button[data-progress-add],
html:not(.dark) button[data-progress-add] {
  border-radius: 9999px !important; /* pill */
}

/* Ultra-specific: ensure Project Progress CTA is blue pill in light mode only */
html:not(.dark) [data-widget-id='progress'] button[data-progress-add] {
  background: #2563eb !important;
  background-color: #2563eb !important;
  color: #ffffff !important;
  border-color: #3b82f6 !important;
  border-width: 1px !important;
  border-style: solid !important;
  border-radius: 9999px !important;
  box-shadow:
    0 1px 2px rgba(0, 0, 0, 0.05),
    0 6px 14px rgba(37, 99, 235, 0.15) !important;
  display: inline-block !important;
  z-index: 10 !important;
}
html:not(.dark) [data-widget-id='progress'] button[data-progress-add]:hover {
  background: #1d4ed8 !important;
}

/* Ensure calendar CTA also renders blue in light mode (no glow) */
html:not(.dark) a[data-calendar-cta] {
  background-color: #2563eb !important;
  background: #2563eb !important;
  border-color: #3b82f6 !important;
  color: #ffffff !important; /* force white text */
  box-shadow: none !important;
  border-width: 1px !important;
  background-image: none !important;
}
html:not(.dark) a[data-calendar-cta]:hover {
  background-color: #eef2ff !important; /* very light indigo/near white */
  background: #eef2ff !important;
  color: #1e3a8a !important; /* indigo-800 text on hover for contrast */
  border-color: #93c5fd !important; /* blue-300 border */
}

:root {
  --background: #0a0a0a;
  --foreground: #ededed;
  --nav-h: 64px;
}

/* Light Mode Variables - Enhanced contrast & warm matte finish */
:root.light,
html:not(.dark) {
  /* Backgrounds - Warm neutral hierarchy with visible separation */
  --bg-page: #ededed; /* Matte background (warmer, less glare) */
  --bg-base: #ededed; /* Alias for consistency */
  --bg-surface: #f6f7f8; /* Card surface (brighter for contrast) */
  --bg-elevated: #e5e7ea; /* Navbar & toolbars */
  --bg-muted: #e5e7ea; /* Sub-backgrounds */

  /* Borders & Dividers - Higher contrast */
  --border-color: #c8ccd2; /* Primary borders (stronger) */
  --border-light: #d5d9df; /* Lighter dividers */

  /* Typography Hierarchy - Darker for readability */
  --text-primary: #1b1d20; /* Headings (near-black) */
  --text-secondary: #474a4f; /* Body text */
  --text-muted: #5e6267; /* Labels, meta */

  /* Shadows - Enhanced depth for better separation */
  --shadow-soft: 0 2px 4px rgba(0, 0, 0, 0.06), 0 6px 12px rgba(0, 0, 0, 0.08);
  --shadow-hover: 0 8px 20px rgba(0, 0, 0, 0.09);
  --shadow-focus: 0 0 0 3px rgba(59, 130, 246, 0.15);

  /* Brand Accents - TaskChrono colors */
  --brand-accent: #3b82f6;
  --accent-blue: #3b82f6;
  --accent-purple: #8b5cf6;
  --accent-teal: #14b8a6;
  --accent-yellow: #f59e0b;
  --accent-green: #22c55e;
  --accent-red: #ef4444;

  /* Light navbar palette (frosted misty blue) */
  --nav-light-top: #d5dbe4; /* darker grey top */
  --nav-light-bottom: #c9d3e0; /* darker grey bottom */
  --nav-light-border: #aebad0; /* darker border */
  --nav-light-text: #1e293b;
  --nav-light-hover: #2563eb;
  --nav-light-shadow: rgba(100, 116, 139, 0.08);
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@supports (padding-top: env(safe-area-inset-top)) {
  :root {
    --safe-top: env(safe-area-inset-top);
  }
}

#page-root {
  padding-top: calc(var(--nav-h) + var(--safe-top, 0px)) !important;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
  transition:
    background-color 0.4s ease,
    color 0.4s ease;
}

/* Light mode body overrides - warm matte gradient with better separation */
html:not(.dark) body {
  background: radial-gradient(circle at top left, #f1f2f4, #ededed 70%);
  color: var(--text-primary);
}

/* Optional Comfort Filter - Extra dimming for extended sessions */
html:not(.dark).comfort body {
  filter: brightness(0.97) contrast(0.98) saturate(0.9);
}

/* Smooth transitions for theme switch */
body,
.card,
button,
[data-app-nav],
[class*='bg-slate'],
[class*='border-slate'] {
  transition:
    background-color 0.4s ease,
    color 0.4s ease,
    box-shadow 0.4s ease,
    border-color 0.4s ease;
}

/* Prevent container-level hover transforms in tasks list to avoid clashing with jump animation */
.no-global-hover *:hover {
  transform: none !important;
}
.no-global-hover:hover {
  transform: none !important;
  box-shadow: none !important;
  background-image: none !important;
}
html:not(.dark) .no-global-hover:hover {
  transform: none !important;
  box-shadow: none !important;
  background-image: none !important;
}

/* Colored view toggle buttons (cards/kanban/gantt) — both themes */
.btn-cards-active {
  background-color: #059669 !important;
  border-color: #10b981 !important;
  color: #ffffff !important;
}
.btn-kanban-active {
  background-color: #f59e0b !important;
  border-color: #fbbf24 !important;
  color: #111827 !important;
}
.btn-gantt-active {
  background-color: #dc2626 !important;
  border-color: #ef4444 !important;
  color: #ffffff !important;
}

/* Unified view toggle styles */
.view-toggle {
  padding: 0.25rem 0.625rem;
  border-radius: 0.375rem;
  border-width: 1px;
  transition:
    background-color 0.15s ease,
    color 0.15s ease,
    border-color 0.15s ease;
}
/* Light-mode overrides must beat the global button rule */
html:not(.dark) .view-toggle {
  background-color: transparent !important;
}
html:not(.dark) .view-toggle--cards {
  color: #059669 !important;
  border-color: #34d399 !important;
}
html:not(.dark) .view-toggle--kanban {
  color: #f59e0b !important;
  border-color: #fcd34d !important;
}
html:not(.dark) .view-toggle--gantt {
  color: #ef4444 !important;
  border-color: #fca5a5 !important;
}
html.dark .view-toggle--cards {
  color: #34d399;
  border-color: #065f46;
}
html.dark .view-toggle--kanban {
  color: #fbbf24;
  border-color: #92400e;
}
html.dark .view-toggle--gantt {
  color: #f87171;
  border-color: #7f1d1d;
}

html:not(.dark) .view-toggle.is-active.view-toggle--cards {
  background-color: #059669 !important;
  border-color: #10b981 !important;
  color: #ffffff !important;
}
html:not(.dark) .view-toggle.is-active.view-toggle--kanban {
  background-color: #f59e0b !important;
  border-color: #fbbf24 !important;
  color: #111827 !important;
}
html:not(.dark) .view-toggle.is-active.view-toggle--gantt {
  background-color: #dc2626 !important;
  border-color: #ef4444 !important;
  color: #ffffff !important;
}

.view-toggle:hover.view-toggle--cards:not(.is-active) {
  background-color: rgba(16, 185, 129, 0.12);
}
.view-toggle:hover.view-toggle--kanban:not(.is-active) {
  background-color: rgba(245, 158, 11, 0.12);
}
.view-toggle:hover.view-toggle--gantt:not(.is-active) {
  background-color: rgba(239, 68, 68, 0.12);
}

/* View toggle FINAL overrides (after global light button styles) */
/* Ensure colored borders/backgrounds are not reset by the generic light button rule */
html:not(.dark) button.view-toggle {
  background-color: transparent !important;
}
html:not(.dark) button.view-toggle.view-toggle--cards {
  border: 1px solid #34d399 !important;
  color: #059669 !important;
}
html:not(.dark) button.view-toggle.view-toggle--kanban {
  border: 1px solid #fcd34d !important;
  color: #f59e0b !important;
}
html:not(.dark) button.view-toggle.view-toggle--gantt {
  border: 1px solid #fca5a5 !important;
  color: #ef4444 !important;
}
html:not(.dark) button.view-toggle.is-active.view-toggle--cards {
  background-color: #059669 !important;
  border: 1px solid #10b981 !important;
  color: #ffffff !important;
}
html:not(.dark) button.view-toggle.is-active.view-toggle--kanban {
  background-color: #f59e0b !important;
  border: 1px solid #fbbf24 !important;
  color: #111827 !important;
}
html:not(.dark) button.view-toggle.is-active.view-toggle--gantt {
  background-color: #dc2626 !important;
  border: 1px solid #ef4444 !important;
  color: #ffffff !important;
}

.tc-dashboard-header {
  height: 56px;
}
.tc-dashboard-header > .tc-header-inner {
  height: 56px;
  padding-left: 16px;
  padding-right: 16px;
}

@media (min-width: 768px) {
  :root {
    --nav-h: 64px;
  }
}
@supports (padding-top: env(safe-area-inset-top)) {
  :root {
    --safe-top: max(env(safe-area-inset-top), 0px);
  }
}

[data-app-nav] {
  height: var(--nav-h);
}
[data-app-nav] .tc-nav-inner {
  height: var(--nav-h);
  padding-left: 16px;
  padding-right: 16px;
}

/* Enforce square corners and blue bg at all levels of navbar in light mode */
html:not(.dark) [data-app-nav],
html:not(.dark) [data-app-nav] > *,
html:not(.dark) [data-app-nav] .tc-nav-inner {
  border-radius: 0 !important;
}

[data-app-nav] + main {
  margin-top: 0;
  padding-top: 0;
}
[data-app-nav] + main > * {
  margin-top: 0 !important;
}
[data-app-nav] + main > .max-w-screen-2xl,
[data-app-nav] + main > .max-w-screen-md {
  margin-top: 0 !important;
}
[data-app-nav] + main h1:first-of-type {
  margin-top: 0 !important;
}
main {
  padding: 0 !important;
}

/* ========================================
   SCROLLBARS - Dark Mode (Default)
   ======================================== */
.tc-scroll {
  scrollbar-gutter: stable both-edges;
}
.tc-scroll::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}
.tc-scroll::-webkit-scrollbar-track {
  background: #0b1220;
  border-radius: 8px;
}
.tc-scroll::-webkit-scrollbar-thumb {
  background-color: #1f2a44;
  border-radius: 8px;
  border: 2px solid #0b1220;
}
.tc-scroll::-webkit-scrollbar-thumb:hover {
  background-color: #2a3a60;
}
.tc-scroll {
  scrollbar-width: thin;
  scrollbar-color: #1f2a44 #0b1220;
}

/* Light Mode Scrollbars - Grey for widgets and cards */
html:not(.dark) [class*='bg-slate-9'] ::-webkit-scrollbar,
html:not(.dark) [class*='bg-slate-8'] ::-webkit-scrollbar,
html:not(.dark) .widget-card ::-webkit-scrollbar,
html:not(.dark) .dashboard-card ::-webkit-scrollbar,
html:not(.dark) [class*='overflow-'] ::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

html:not(.dark) [class*='bg-slate-9'] ::-webkit-scrollbar-track,
html:not(.dark) [class*='bg-slate-8'] ::-webkit-scrollbar-track,
html:not(.dark) .widget-card ::-webkit-scrollbar-track,
html:not(.dark) .dashboard-card ::-webkit-scrollbar-track,
html:not(.dark) [class*='overflow-'] ::-webkit-scrollbar-track {
  background: #e5e7eb;
  border-radius: 10px;
}

html:not(.dark) [class*='bg-slate-9'] ::-webkit-scrollbar-thumb,
html:not(.dark) [class*='bg-slate-8'] ::-webkit-scrollbar-thumb,
html:not(.dark) .widget-card ::-webkit-scrollbar-thumb,
html:not(.dark) .dashboard-card ::-webkit-scrollbar-thumb,
html:not(.dark) [class*='overflow-'] ::-webkit-scrollbar-thumb {
  background: #bfc3ca;
  border-radius: 10px;
}

html:not(.dark) [class*='bg-slate-9'] ::-webkit-scrollbar-thumb:hover,
html:not(.dark) [class*='bg-slate-8'] ::-webkit-scrollbar-thumb:hover,
html:not(.dark) .widget-card ::-webkit-scrollbar-thumb:hover,
html:not(.dark) .dashboard-card ::-webkit-scrollbar-thumb:hover,
html:not(.dark) [class*='overflow-'] ::-webkit-scrollbar-thumb:hover {
  background: #a9aeb4;
}

html:not(.dark) [class*='bg-slate-9'],
html:not(.dark) [class*='bg-slate-8'],
html:not(.dark) .widget-card,
html:not(.dark) .dashboard-card,
html:not(.dark) [class*='overflow-'] {
  scrollbar-width: thin;
  scrollbar-color: #9ca3af #e5e7eb;
}

/* ========================================
   DROPDOWNS & SELECTS - Dark Mode
   ======================================== */
select,
option {
  color: #e5e7eb;
  background-color: #0f172a;
}
select:focus,
select:hover {
  outline: none;
}

.menu,
.dropdown,
[role='menu'],
details > div,
details[open] > div {
  color: #e5e7eb;
  background-color: #0b1220;
}

.tc-pillmenu {
  background-color: transparent !important;
  box-shadow: none !important;
}

/* Light Mode Dropdowns & Selects */
html:not(.dark) select,
html:not(.dark) option {
  color: var(--text-primary);
  background-color: var(--bg-surface);
  border-color: var(--border-color);
}

html:not(.dark) .menu,
html:not(.dark) .dropdown,
html:not(.dark) [role='menu'],
html:not(.dark) details > div,
html:not(.dark) details[open] > div {
  color: var(--text-primary);
  background-color: var(--bg-surface);
  border: 1px solid var(--border-color);
  box-shadow: var(--shadow-soft);
}

/* ========================================
   ANIMATIONS
   ======================================== */
@keyframes tc-gradient-x {
  0% {
    background-position: 0% 50%;
  }
  100% {
    background-position: 100% 50%;
  }
}

/* Jump up/down micro-animations for task rows */
@keyframes tc-jump-up-kf {
  0% {
    transform: translateY(0);
  }
  40% {
    transform: translateY(-6px);
  }
  100% {
    transform: translateY(0);
  }
}
@keyframes tc-jump-down-kf {
  0% {
    transform: translateY(0);
  }
  40% {
    transform: translateY(6px);
  }
  100% {
    transform: translateY(0);
  }
}
.tc-jump-up {
  animation: tc-jump-up-kf 0.28s ease-out both;
}
.tc-jump-down {
  animation: tc-jump-down-kf 0.28s ease-out both;
}

/* Prevent any hover outline/whitespace flash inside task rows */
.tc-task-row *,
.tc-task-row *:hover,
.tc-task-row *:focus {
  outline: none !important;
}
.tc-task-row:hover {
  background-image: none !important;
  box-shadow: none !important;
}

.tc-animated-gradient {
  background-image: linear-gradient(90deg, #2563eb, #4f46e5, #7c3aed, #9333ea);
  background-size: 400% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  animation: tc-gradient-x 8s ease-in-out infinite alternate;
  -webkit-text-fill-color: transparent;
}

@media (prefers-reduced-motion: reduce) {
  .tc-animated-gradient {
    animation: none;
  }
}

.tc-legend-dot {
  display: inline-block;
  width: 8px;
  height: 8px;
  border-radius: 9999px;
  margin-right: 4px;
}

/* ========================================
   LIGHT MODE SPECIFIC OVERRIDES
   Refined for visual comfort and hierarchy
   ======================================== */

/* Main page background - soft neutral */
html:not(.dark) [class*='bg-gradient-to-br'][class*='from-slate-900'],
html:not(.dark) [class*='bg-slate-950'],
html:not(.dark) [class*='bg-slate-900'] {
  background: var(--bg-base) !important;
  background-image: none !important;
}

/* Navbar in light mode - Light blue bar with square corners */
html:not(.dark) [data-app-nav] {
  background: linear-gradient(to bottom, var(--nav-light-top), var(--nav-light-bottom)) !important;
  border-bottom: 1px solid var(--nav-light-border) !important;
  border-radius: 0 !important;
  box-shadow: 0 1px 3px var(--nav-light-shadow) !important;
  -webkit-backdrop-filter: blur(8px) !important;
  backdrop-filter: blur(8px) !important;
}

/* Navbar links - stronger contrast for readability */
html:not(.dark) [data-app-nav] nav a {
  color: var(--nav-light-text) !important;
  font-weight: 500;
  transition: all 0.2s ease;
}

html:not(.dark) [data-app-nav] nav a:hover {
  color: var(--nav-light-hover) !important;
}

html:not(.dark) [data-app-nav] nav a.active {
  color: var(--nav-light-hover) !important;
  font-weight: 600;
}

html:not(.dark) [data-app-nav] nav a span {
  color: inherit !important;
}

/* TaskChrono logo - keep same gradient and font-weight as dark mode (scoped only to logo) */
html:not(.dark) [data-app-nav] .tc-logo {
  color: #111827 !important; /* visible in light mode */
  background-image: none !important; /* remove gradient washout */
  -webkit-text-fill-color: #111827 !important;
  font-weight: 800 !important; /* keep weight */
}

/* Ensure logo is visible in dark mode across all dashboard pages */
html.dark [data-app-nav] .tc-logo {
  color: transparent !important;
  background-image: linear-gradient(to right, #e5e7eb, #a5b4fc, #c4b5fd) !important;
  -webkit-background-clip: text !important;
  background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
  font-weight: 800 !important;
}

/* Cards and widgets - depth and elevation (exclude navbar) */
html:not(.dark) [class*='bg-slate-9']:not([data-app-nav]),
html:not(.dark) [class*='bg-slate-8']:not([data-app-nav]),
html:not(.dark) .widget-card,
html:not(.dark) .dashboard-card {
  background: var(--bg-surface) !important;
  border: 1px solid var(--border-color) !important;
  border-radius: 16px !important;
  box-shadow: var(--shadow-soft) !important;
  transition: all 0.25s ease !important;
}

/* Project cards – add subtle grey gradient for contrast in light mode */
/* Highest specificity to beat Tailwind utilities on project cards */
html:not(.dark) body a[data-proj-card] {
  /* Stronger light-grey gradient so cards stand off the white page */
  background-color: #eef2f7 !important;
  background-image: linear-gradient(
    180deg,
    #f2f4f8 0%,
    #e4eaf2 100%
  ) !important; /* visible contrast */
  border: 1px solid #d1d8e3 !important;
  box-shadow:
    0 6px 14px rgba(15, 23, 42, 0.06),
    0 2px 6px rgba(15, 23, 42, 0.05) !important;
}
html:not(.dark) body a[data-proj-card]:hover {
  background-color: #edf1f6 !important;
  background-image: linear-gradient(180deg, #f1f4f9 0%, #e0e7f0 100%) !important;
  border-color: #c4cedc !important;
  box-shadow: 0 10px 22px rgba(15, 23, 42, 0.08) !important;
}

/* Apply same grey gradient styling to Kanban item cards */
html:not(.dark) [data-proj-card-kanban] {
  background-color: #eef2f7 !important;
  background-image: linear-gradient(180deg, #f2f4f8 0%, #e4eaf2 100%) !important;
  border: 1px solid #d1d8e3 !important;
  box-shadow: 0 4px 10px rgba(15, 23, 42, 0.06) !important;
}
html:not(.dark) [data-proj-card-kanban]:hover {
  background-color: #edf1f6 !important;
  background-image: linear-gradient(180deg, #f1f4f9 0%, #e0e7f0 100%) !important;
  border-color: #c4cedc !important;
  box-shadow: 0 10px 18px rgba(15, 23, 42, 0.08) !important;
}

/* Export buttons (CSV/Excel/JSON) — colored like view toggles; both themes */
/* Light mode: force solid colors (override tailwind utility classes) */
html:not(.dark) button[data-export='csv'] {
  background-color: #0ea5e9 !important;
  color: #ffffff !important;
  border-color: #0284c7 !important;
}
html:not(.dark) button[data-export='csv']:hover {
  background-color: #0284c7 !important;
}
html:not(.dark) button[data-export='xlsx'] {
  background-color: #22c55e !important;
  color: #ffffff !important;
  border-color: #16a34a !important;
}
html:not(.dark) button[data-export='xlsx']:hover {
  background-color: #16a34a !important;
}
html:not(.dark) button[data-export='json'] {
  background-color: #f97316 !important;
  color: #1f2937 !important;
  border-color: #ea580c !important;
}
html:not(.dark) button[data-export='json']:hover {
  background-color: #ea580c !important;
  color: #1f2937 !important;
}
/* Extra specificity in case utility classes override */
html:not(.dark) .tc-export[data-export='csv'] {
  background-color: #0ea5e9 !important;
  color: #ffffff !important;
  border-color: #0284c7 !important;
}
html:not(.dark) .tc-export[data-export='xlsx'] {
  background-color: #22c55e !important;
  color: #ffffff !important;
  border-color: #16a34a !important;
}
html:not(.dark) .tc-export[data-export='json'] {
  background-color: #f97316 !important;
  color: #1f2937 !important;
  border-color: #ea580c !important;
}

/* Fallback (any theme) to ensure color shows even if theme class not present) */
button[data-export='csv'] {
  background-color: #0ea5e9 !important;
  color: #ffffff !important;
  border-color: #0284c7 !important;
}
button[data-export='xlsx'] {
  background-color: #22c55e !important;
  color: #ffffff !important;
  border-color: #16a34a !important;
}
button[data-export='json'] {
  background-color: #f97316 !important;
  color: #1f2937 !important;
  border-color: #ea580c !important;
}

/* Dark mode exports: outline style like project manager toggles */
html.dark button[data-export='csv'] {
  background-color: transparent !important;
  color: #38bdf8 !important; /* sky-400 text */
  border-color: #0284c7 !important; /* sky-600 border */
}
html.dark button[data-export='csv']:hover {
  background-color: rgba(56, 189, 248, 0.12) !important;
}

html.dark button[data-export='xlsx'] {
  background-color: transparent !important;
  color: #22c55e !important; /* emerald-500 */
  border-color: #059669 !important; /* emerald-600 */
}
html.dark button[data-export='xlsx']:hover {
  background-color: rgba(16, 185, 129, 0.12) !important;
}

html.dark button[data-export='json'] {
  background-color: transparent !important;
  color: #f59e0b !important; /* amber-500 */
  border-color: #d97706 !important; /* amber-600 */
}
html.dark button[data-export='json']:hover {
  background-color: rgba(245, 158, 11, 0.12) !important;
}

/* Light mode analytics cards to light grey for readability */
/* Analytics cards – subtle contrast only in LIGHT MODE */
html:not(.dark) [data-analytics-card] {
  background-color: #f5f6fa !important; /* soft neutral gray */
  border: 1px solid #e2e8f0 !important; /* light border */
  border-radius: 10px !important; /* rounded corners */
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.04) !important; /* gentle elevation */
}
html:not(.dark) [data-analytics-card]:hover {
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08) !important; /* hover feedback */
}
html:not(.dark) [data-analytics-card] .text-slate-200,
html:not(.dark) [data-analytics-card] .text-slate-300,
html:not(.dark) [data-analytics-card] .text-slate-400,
html:not(.dark) [data-analytics-card] .text-slate-500 {
  color: #1b1d20 !important;
}
html:not(.dark) [data-analytics-card] .text-white {
  color: #0f172a !important;
}

/* Marketing feature cards - light mode readability & pop */
html:not(.dark) .tc-feature-card {
  background: #ffffff !important;
  border: 1px solid #d8dee4 !important;
  color: #1b1d20 !important;
  box-shadow:
    0 8px 24px rgba(15, 23, 42, 0.08),
    0 2px 6px rgba(15, 23, 42, 0.06) !important;
}
html:not(.dark) .tc-feature-card h3 {
  color: #0f172a !important;
}
html:not(.dark) .tc-feature-card p {
  color: #475569 !important;
}
html:not(.dark) .tc-feature-card:hover {
  border-color: #3b82f6 !important; /* TaskChrono blue */
  box-shadow:
    0 16px 32px rgba(59, 130, 246, 0.18),
    0 2px 12px rgba(59, 130, 246, 0.15) !important;
  transform: translateY(-4px);
}
html:not(.dark) .tc-feature-card .text-4xl {
  filter: drop-shadow(0 6px 10px rgba(59, 130, 246, 0.25));
}

html:not(.dark) [class*='bg-slate-9']:not([data-app-nav]):hover,
html:not(.dark) [class*='bg-slate-8']:not([data-app-nav]):hover,
html:not(.dark) .widget-card:hover,
html:not(.dark) .dashboard-card:hover {
  box-shadow: var(--shadow-hover) !important;
  transform: translateY(-2px);
}

/* Typography Hierarchy - Google Material 3 */
html:not(.dark) h1,
html:not(.dark) h2,
html:not(.dark) h3,
html:not(.dark) .card-title,
html:not(.dark) [class*='font-bold'],
html:not(.dark) [class*='font-semibold'] {
  color: var(--text-primary) !important;
  font-weight: 600;
  letter-spacing: -0.3px;
  line-height: 1.3;
}

html:not(.dark) [class*="text-slate-100"],
html:not(.dark) [class*="text-slate-200"],
/* keep white text on colored buttons and colored links */
html:not(.dark) [class*="text-white"]:not(button[class*="bg-"]):not(a[class*="bg-"]) {
  color: var(--text-primary) !important;
}

html:not(.dark) [class*='text-slate-300'],
html:not(.dark) [class*='text-slate-400'],
html:not(.dark) .card-subtitle,
html:not(.dark) .section-label {
  color: var(--text-secondary) !important;
  font-weight: 500;
  font-size: 0.95rem;
}

html:not(.dark) [class*='text-slate-500'],
html:not(.dark) [class*='text-slate-600'],
html:not(.dark) p,
html:not(.dark) span:not([class*='bg-']) {
  color: var(--text-muted) !important;
  line-height: 1.6;
}

/* Material 3 text utility classes */
html:not(.dark) .text-body {
  color: var(--text-secondary);
  line-height: 1.6;
}

html:not(.dark) .text-label {
  color: var(--text-muted);
  font-size: 0.875rem;
  font-weight: 500;
}

/* Borders in light mode */
html:not(.dark) [class*='border-slate-7'],
html:not(.dark) [class*='border-slate-8'],
html:not(.dark) [class*='border-slate-9'] {
  border-color: var(--border-color) !important;
}

/* Input fields - improved contrast and focus states */
html:not(.dark) input,
html:not(.dark) textarea,
html:not(.dark) select {
  background-color: #f5f7fa !important;
  color: var(--text-primary) !important;
  border: 1px solid #d8dee4 !important;
  transition: all 0.2s ease !important;
}

html:not(.dark) input:hover,
html:not(.dark) textarea:hover,
html:not(.dark) select:hover {
  background-color: #eceff4 !important;
}

html:not(.dark) input:focus,
html:not(.dark) textarea:focus,
html:not(.dark) select:focus {
  background-color: var(--bg-surface) !important;
  border-color: var(--accent-blue) !important;
  box-shadow: var(--shadow-focus) !important;
  outline: none !important;
}

/* Buttons - enhanced contrast and tactile feel (exclude widget delete button) */
/* Global light-mode button style (exclude mobile menu items) */
html:not(.dark)
  button:not(.view-toggle):not([data-view-toggle]):not([data-export]):not(.tc-widget-delete):not(
    [data-menu-item]
  ):not([class*='bg-blue']):not([class*='bg-green']):not([class*='bg-red']):not(
    [class*='bg-purple']
  ):not([class*='bg-yellow']):not([class*='bg-indigo']):not([class*='bg-sky']):not(
    [class*='bg-emerald']
  ):not([class*='bg-rose']):not([class*='bg-amber']):not([class*='bg-teal']):not(
    [class*='bg-cyan']
  ):not([class*='bg-pink']):not([class*='bg-fuchsia']):not([class*='bg-violet']):not(
    [class*='bg-orange']
  ) {
  background: #f3f4f6 !important;
  border: 1px solid #d0d4da !important;
  color: #202124 !important;
  transition: all 0.25s ease !important;
}

html:not(.dark)
  button:not(.view-toggle):not([data-view-toggle]):not([data-export]):not(.tc-widget-delete):not(
    [data-menu-item]
  ):not([class*='bg-blue']):not([class*='bg-green']):not([class*='bg-red']):not(
    [class*='bg-purple']
  ):not([class*='bg-yellow']):not([class*='bg-indigo']):hover {
  background: #e6e8eb !important;
  transform: translateY(-1px);
  box-shadow: 0 0 6px rgba(59, 130, 246, 0.12) !important;
}

html:not(.dark)
  button:not(.view-toggle):not([data-view-toggle]):not([data-export]):not(.tc-widget-delete):not(
    [class*='bg-blue']
  ):not([class*='bg-green']):not([class*='bg-red']):not([class*='bg-purple']):not(
    [class*='bg-yellow']
  ):not([class*='bg-indigo']):active {
  transform: scale(0.98) !important;
}

/* Brand accent buttons - keep colors, add glow */
html:not(.dark) button[class*='bg-blue'],
html:not(.dark) button[class*='bg-indigo'] {
  box-shadow: 0 0 6px rgba(37, 99, 235, 0.15) !important;
}

html:not(.dark) button[class*='bg-green'] {
  box-shadow: 0 0 6px rgba(34, 197, 94, 0.15) !important;
}

html:not(.dark) button[class*='bg-purple'] {
  box-shadow: 0 0 6px rgba(139, 92, 246, 0.15) !important;
}

/* Keep vivid colored backgrounds visible in light mode and force appropriate text color */
html:not(.dark) button[class*='bg-sky'],
html:not(.dark) button[class*='bg-rose'],
html:not(.dark) button[class*='bg-emerald'],
html:not(.dark) button[class*='bg-indigo'],
html:not(.dark) button[class*='bg-blue'],
html:not(.dark) button[class*='bg-green'],
html:not(.dark) button[class*='bg-purple'],
html:not(.dark) button[class*='bg-red'],
html:not(.dark) button[class*='bg-fuchsia'],
html:not(.dark) button[class*='bg-violet'] {
  color: #ffffff !important;
}

/* Soft glows for additional brand hues */
html:not(.dark) button[class*='bg-sky'] {
  box-shadow: 0 0 6px rgba(14, 165, 233, 0.18) !important;
}
html:not(.dark) button[class*='bg-rose'] {
  box-shadow: 0 0 6px rgba(244, 63, 94, 0.18) !important;
}
html:not(.dark) button[class*='bg-emerald'] {
  box-shadow: 0 0 6px rgba(16, 185, 129, 0.18) !important;
}
html:not(.dark) button[class*='bg-amber'] {
  box-shadow: 0 0 6px rgba(245, 158, 11, 0.18) !important;
}

/* Dashboard grid background - subtle zoning */
/* Scope grid background helpers to main content only (avoid navbar) */
html:not(.dark) main .dashboard-grid,
html:not(.dark) main [class*='grid'][class*='gap-'] {
  background-color: #f9fafb;
  border-radius: 16px;
  padding: 1rem;
}

/* Do not style the navbar's grid container like a card */
html:not(.dark) [data-app-nav] .tc-nav-inner {
  background: transparent !important;
  border-radius: 0 !important;
  padding-left: 16px; /* keep existing spacing */
  padding-right: 16px;
}

/* Analytics & Charts - enhanced separation and legibility */
html:not(.dark) .analytics-light,
html:not(.dark) [class*='analytics'],
html:not(.dark) [data-widget-id='analytics'] {
  background-color: #f7f8f9 !important;
  border-radius: 14px;
  border: 1px solid #d2d5da;
}

html:not(.dark) .chart-color {
  opacity: 0.9; /* Slightly more saturated for visibility */
}

html:not(.dark) .chart-label,
html:not(.dark) [class*='recharts'] text {
  color: #46494e !important;
  font-weight: 500;
}

/* Brand accent highlights - TaskChrono blue */
html:not(.dark) a:not([class*='bg-']):hover {
  color: var(--accent-blue) !important;
}

html:not(.dark) .brand-accent {
  color: var(--accent-blue);
}

html:not(.dark) .brand-accent-glow {
  box-shadow: 0 0 6px rgba(59, 130, 246, 0.15);
}

/* Force hamburger icon lines to pure black in light mode for visibility */
html:not(.dark) .tc-hamburger span > span,
html:not(.dark) .tc-hamburger span > span {
  background-color: #000 !important; /* force black bars in light mode */
}

/* Chat close button "X" — make the two bars black in light mode */
html:not(.dark) .chat-panel [aria-label='Close chat'] span > span {
  background-color: #000 !important;
}
/* Ensure the close button bubble is white with light border in light mode */
html:not(.dark) .chat-panel [aria-label='Close chat'] {
  background-color: #ffffff !important;
  border-color: #d8dee4 !important;
  color: #000 !important;
}

/* Settings toggles (Hide / Switch / Show) — make readable in light mode */
html:not(.dark) [data-settings-toggle] {
  background-color: #ef4444 !important; /* red-500 */
  color: #ffffff !important; /* white text for contrast */
  border-color: #fca5a5 !important; /* red-300 border */
}
html:not(.dark) [data-settings-toggle]:hover {
  background-color: #dc2626 !important; /* red-600 */
}

/* Light mode: ensure locked modal uses a soft white panel, not dark blue */
html:not(.dark) [data-locked-modal] {
  background-color: #fafbfe !important; /* off-white panel */
  border-color: #e2e8f0 !important; /* light border */
  color: #0f172a !important; /* dark text */
  background-image: none !important; /* kill dark gradient */
}

/* Locked modal close button — match hamburger X, remove box */
html:not(.dark) [data-locked-close],
html.dark [data-locked-close] {
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
}
html:not(.dark) [data-locked-close] span > span {
  background-color: #000 !important;
}
html.dark [data-locked-close] span > span {
  background-color: #e5e7eb !important;
}

/* Auth popup buttons — force SOLID colors in LIGHT MODE only */
html:not(.dark) [data-auth-solid='sign-in'] {
  background-color: #6366f1 !important; /* indigo-500 (lighter) */
  border-color: #4f46e5 !important;     /* indigo-600 border */
  color: #ffffff !important;
}
html:not(.dark) [data-auth-solid='sign-in']:hover {
  background-color: #ffffff !important; /* turn white on hover for consistency */
  color: #1e3a8a !important;           /* indigo-800 text */
  border-color: #93c5fd !important;    /* blue-300 border */
}
html:not(.dark) [data-auth-solid='cancel'] {
  background-color: #fb7185 !important; /* rose-400 (lighter) */
  border-color: #f43f5e !important;     /* rose-500 border */
  color: #ffffff !important;
}
html:not(.dark) [data-auth-solid='cancel']:hover {
  background-color: #ffffff !important; /* match sign-in: turn white on hover */
  color: #b91c1c !important;            /* red-700 text */
  border-color: #fecaca !important;     /* red-200 border */
}

/* Create account button (signup) — same as sign-in style */
html:not(.dark) [data-auth-solid='create'] {
  background-color: #6366f1 !important; /* indigo-500 */
  border-color: #4f46e5 !important;     /* indigo-600 */
  color: #ffffff !important;
}
html:not(.dark) [data-auth-solid='create']:hover {
  background-color: #ffffff !important;
  color: #1e3a8a !important;            /* indigo-800 text */
  border-color: #93c5fd !important;     /* blue-300 border */
}

/* Subtle hover brightness */
html:not(.dark) .hover-bright:hover {
  filter: brightness(0.98);
}

html:not(.dark) .transition-soft {
  transition: all 0.2s ease-in-out;
}

/* Ensure smooth transitions globally */
html:not(.dark) * {
  transition-property: background-color, border-color, color, box-shadow;
  transition-duration: 0.2s;
  transition-timing-function: ease-in-out;
}

/* Remove transitions for fast-changing elements */
html:not(.dark) [class*='animate'],
html:not(.dark) [role='progressbar'],
html:not(.dark) [class*='transition-none'] {
  transition: none !important;
}

/* Allow transform transitions for action menu pill buttons (e.g., Upload) */
html:not(.dark) [data-actions-menu] button,
html.dark [data-actions-menu] button {
  transition-property: background-color, border-color, color, box-shadow, transform !important;
}

/* Light mode: make Upload pill turn transparent with colored outline on hover (match others) */
html:not(.dark) [data-actions-menu] button[data-action='upload']:hover {
  background-color: transparent !important;
  color: #4f46e5 !important; /* indigo-600 text */
  border-color: #818cf8 !important; /* indigo-400 border */
}
html:not(.dark) [data-actions-menu] button[data-action='upload'] {
  box-shadow: none !important; /* no glow in this row */
}

/* Visual comfort layer - layered backgrounds */
html:not(.dark) .layer-base {
  background-color: var(--bg-base);
}

html:not(.dark) .layer-elevated {
  background-color: var(--bg-elevated);
}

html:not(.dark) .layer-muted {
  background-color: var(--bg-muted);
}

/* Widget delete/trash buttons - ONLY RED TEXT, NOTHING ELSE */
html:not(.dark) button.tc-widget-delete,
html:not(.dark) .tc-widget-delete {
  all: unset !important;
  color: #ef4444 !important;
  cursor: pointer !important;
  margin-left: 0.5rem !important;
  font-size: inherit !important;
  line-height: inherit !important;
}

/* ChatPanel icon-only buttons in light mode: no boxes, vivid red where applicable */
html:not(.dark) .chat-panel button[aria-label='Delete message'],
html:not(.dark) .chat-panel button[aria-label='Like message'] {
  all: unset !important;
  cursor: pointer !important;
}
html:not(.dark) .chat-panel button[aria-label='Delete message'] {
  color: #ef4444 !important;
}
html:not(.dark) .chat-panel button[aria-label='Delete message']:hover {
  color: #dc2626 !important;
}
html:not(.dark) .chat-panel button[aria-label='Like message'] {
  color: #ef4444 !important;
}

/* Ensure global light button styles DO NOT affect components inside the mobile menu */
/* Nuke white "bubble" pills on the hamburger menu in LIGHT MODE */
html:not(.dark) body [data-mobile-menu] nav a,
html:not(.dark) body [data-mobile-menu] nav button,
html:not(.dark) [data-mobile-menu] [data-menu-item] {
  all: unset !important; /* remove any utility backgrounds/borders */
  display: block !important;
  width: 100% !important;
  box-sizing: border-box !important;
  padding: 0.5rem 0.75rem !important;
  border-radius: 0.5rem !important; /* keep soft rounding, but no fill */
  color: #111827 !important; /* black text for visibility */
  background: transparent !important; /* no pill */
  border: 0 !important;
  box-shadow: none !important;
  cursor: pointer !important;
}
/* Extra-hard override for BUTTONS specifically (white pill fix) */
html:not(.dark) body [data-mobile-menu] nav button[data-menu-item],
html:not(.dark) body [data-mobile-menu] nav button[data-menu-item]:hover,
html:not(.dark) body [data-mobile-menu] nav button[data-menu-item]:focus {
  -moz-appearance: none !important;
  -webkit-appearance: none !important;
  appearance: none !important;
  background: transparent !important;
  background-color: transparent !important;
  background-image: none !important;
  border: 0 !important;
  box-shadow: none !important;
  color: #111827 !important;
}
html:not(.dark) body [data-mobile-menu] nav a:hover,
html:not(.dark) body [data-mobile-menu] nav button:hover,
html:not(.dark) [data-mobile-menu] [data-menu-item]:hover {
  background-color: rgba(0, 0, 0, 0.08) !important; /* subtle hover like dark mode */
}

/* Redundant, ultra-specific reset to defeat any remaining utility or UA button styles */
html:not(.dark) body [data-mobile-menu] nav > button,
html:not(.dark) body [data-mobile-menu] nav > button[data-menu-item] {
  background: transparent !important;
  background-color: transparent !important;
  background-image: none !important;
  border: none !important;
  box-shadow: none !important;
  color: #111827 !important;
  border-radius: 0.5rem !important;
  padding: 0.5rem 0.75rem !important;
}

/* FINAL: strongest specificity to kill any leftover white pill styling */
html:not(.dark)
  body
  [data-mobile-menu][data-mobile-menu]
  nav[data-menu-items][data-menu-items]
  > button[data-menu-item][data-menu-item],
html:not(.dark)
  body
  [data-mobile-menu][data-mobile-menu]
  nav[data-menu-items][data-menu-items]
  > a[data-menu-item][data-menu-item] {
  all: unset !important;
  display: block !important;
  width: 100% !important;
  box-sizing: border-box !important;
  padding: 0.5rem 0.75rem !important;
  border-radius: 0.5rem !important;
  color: #111827 !important;
  background: transparent !important;
  background-color: transparent !important;
  background-image: none !important;
  border: none !important;
  box-shadow: none !important;
  cursor: pointer !important;
}
html:not(.dark)
  body
  [data-mobile-menu][data-mobile-menu]
  nav[data-menu-items][data-menu-items]
  > button[data-menu-item][data-menu-item]:hover,
html:not(.dark)
  body
  [data-mobile-menu][data-mobile-menu]
  nav[data-menu-items][data-menu-items]
  > a[data-menu-item][data-menu-item]:hover {
  background-color: rgba(0, 0, 0, 0.08) !important;
}

html:not(.dark) button.tc-widget-delete:hover,
html:not(.dark) .tc-widget-delete:hover {
  color: #dc2626 !important;
}

/* Also target SVG icons inside delete buttons */
html:not(.dark) button[aria-label*='delete'] svg,
html:not(.dark) button[aria-label*='remove'] svg,
html:not(.dark) button[aria-label*='Delete'] svg,
html:not(.dark) button[aria-label*='Remove'] svg,
html:not(.dark) button[title*='delete'] svg,
html:not(.dark) button[title*='remove'] svg,
html:not(.dark) button[title*='Delete'] svg,
html:not(.dark) button[title*='Remove'] svg {
  color: #ef4444 !important;
}

html:not(.dark) button[aria-label*='delete']:hover svg,
html:not(.dark) button[aria-label*='remove']:hover svg,
html:not(.dark) button[aria-label*='Delete']:hover svg,
html:not(.dark) button[aria-label*='Remove']:hover svg,
html:not(.dark) button[title*='delete']:hover svg,
html:not(.dark) button[title*='remove']:hover svg,
html:not(.dark) button[title*='Delete']:hover svg,
html:not(.dark) button[title*='Remove']:hover svg {
  color: #dc2626 !important;
}

/* ========================================
   LIGHT MODE CTA FIX (final specificity)
   Ensures key CTAs stay TaskChrono blue
   ======================================== */
html:not(.dark) a[data-calendar-cta],
html:not(.dark) a[data-inventory-cta],
html:not(.dark) button[data-progress-add] {
  background: #2563eb !important; /* force bg in case background overrides are used */
  background-color: #2563eb !important; /* blue-600 */
  border-color: #3b82f6 !important; /* blue-500 */
  color: #ffffff !important;
  box-shadow:
    0 1px 2px rgba(0, 0, 0, 0.05),
    0 6px 14px rgba(37, 99, 235, 0.15) !important;
  border-width: 1px !important;
  background-image: none !important;
  transition:
    background-color 0.2s ease,
    box-shadow 0.2s ease,
    transform 0.06s ease !important;
  /* Override any conflicting button styles */
  border-style: solid !important;
}

html:not(.dark) a[data-inventory-cta]:hover,
html:not(.dark) button[data-progress-add]:hover {
  background-color: #1d4ed8 !important; /* blue-700 */
  box-shadow:
    0 2px 6px rgba(0, 0, 0, 0.06),
    0 10px 18px rgba(37, 99, 235, 0.2) !important;
  transform: translateY(-1px);
}
/* Open Calendar hover: lighten to near-white for tactile feedback */
html:not(.dark) a[data-calendar-cta]:hover {
  background-color: #eef2ff !important; /* light indigo/near white */
  color: #1e3a8a !important; /* indigo-800 text */
  border-color: #93c5fd !important; /* blue-300 border */
  box-shadow:
    0 2px 6px rgba(0, 0, 0, 0.06),
    0 10px 18px rgba(37, 99, 235, 0.2) !important;
  transform: translateY(-1px);
}

html:not(.dark) a[data-calendar-cta]:active,
html:not(.dark) a[data-inventory-cta]:active,
html:not(.dark) button[data-progress-add]:active {
  transform: translateY(0);
}

/* Ensure calendar CTA base color is blue (hover rule above lightens) */
html:not(.dark) a[data-calendar-cta] {
  background: #2563eb !important;
  background-color: #2563eb !important;
  color: #ffffff !important;
  border-color: #3b82f6 !important;
}

/* ========================================
   DARK MODE CTA COLOR MATCH
   Make Inventory + Add Progress CTAs use the same darker blue gradient
   (no shape changes, color only)
   ======================================== */
html.dark a[data-inventory-cta],
html.dark button[data-progress-add],
html.dark a[data-timers-cta],
html.dark a[data-calendar-cta] {
  background-image: linear-gradient(
    135deg,
    #8b5cf6 0%,
    #6366f1 100%
  ) !important; /* violet-500 -> indigo-500 */
  background-color: #8b5cf6 !important; /* fallback */
  color: #ffffff !important;
  border-color: #7c3aed !important; /* violet-600 border */
  box-shadow: none !important; /* remove glow */
  border-radius: 9999px !important; /* pill shape to match progress button */
  padding: 0.25rem 0.75rem !important; /* py-1 px-3 */
}
html.dark a[data-inventory-cta]:hover,
html.dark button[data-progress-add]:hover,
html.dark a[data-timers-cta]:hover,
html.dark a[data-calendar-cta]:hover {
  filter: brightness(1.06) !important;
}

/* =====================
   NAVBAR FINAL OVERRIDES
   Ensure light blue, square corners, no white overlay
   ===================== */
html:not(.dark) body [data-app-nav] {
  background: linear-gradient(to bottom, var(--nav-light-top), var(--nav-light-bottom)) !important;
  border-radius: 0 !important;
}
/* Clear any bg utilities inside header that might overlay white */
html:not(.dark) [data-app-nav] [class*='bg-slate-'],
html:not(.dark) [data-app-nav] [class*='bg-white'],
html:not(.dark) [data-app-nav] [class*='bg-gray-'] {
  background-color: transparent !important;
  background-image: none !important;
}
/* Keep logo gradient readable (scope only to the logo, not CTA buttons) */
html:not(.dark) [data-app-nav] .tc-logo {
  -webkit-text-fill-color: transparent !important;
  background-image: linear-gradient(to right, #1f2937, #6366f1, #a78bfa) !important;
  background-clip: text !important;
}

/* Match dark-mode panel visuals for light mode (gradient, border, shadow) */
html:not(.dark) [data-mobile-menu] {
  background: linear-gradient(135deg, rgba(37, 99, 235, 0.88), rgba(147, 51, 234, 0.88)) !important;
  border: 1px solid rgba(99, 102, 241, 0.25) !important;
  box-shadow:
    0 16px 40px rgba(0, 0, 0, 0.45),
    0 0 0 1px rgba(99, 102, 241, 0.25),
    0 0 18px rgba(99, 102, 241, 0.18) !important;
  color: #000000 !important; /* default to black text for clarity */
}

/* Light mode Invite CTA — match dark-mode gradient */
html:not(.dark) [data-teams-layout] [data-cta='invite-header'] {
  background-image: linear-gradient(135deg, #7c3aed, #6366f1) !important; /* match dark gradient */
  background-color: transparent !important;
  color: #ffffff !important;
  border: none !important;
  box-shadow: 0 8px 20px rgba(99, 102, 241, 0.25) !important;
}
html:not(.dark) [data-teams-layout] [data-cta='invite-header']:hover {
  filter: brightness(1.05) !important;
}

/* Force black text for menu items and the close button in light mode */
html:not(.dark) [data-mobile-menu] [data-menu-items],
html:not(.dark) [data-mobile-menu] [data-menu-items] *,
html:not(.dark) [data-mobile-menu] [data-close-button] {
  color: #000 !important;
  opacity: 1 !important; /* remove any lingering dimming */
}

/* Ensure the X icon bars are black in light mode */
html:not(.dark) [data-mobile-menu] [data-close-button] span > span {
  background-color: #000 !important;
}

/* Keep all menu items the same solid black in light mode */
html:not(.dark) [data-mobile-menu] [data-menu-items] a[data-menu-item],
html:not(.dark) [data-mobile-menu] [data-menu-items] a[data-menu-item] *,
html:not(.dark) [data-mobile-menu] [data-menu-items] [data-menu-item] {
  color: #000 !important;
  font-weight: 500 !important;
  opacity: 1 !important;
}
/* Force subtitles/spans inside items (like email) to black as well */
html:not(.dark) [data-mobile-menu] [data-menu-items] span,
html:not(.dark) [data-mobile-menu] [data-menu-items] small,
html:not(.dark) [data-mobile-menu] [data-menu-items] .text-xs {
  color: #000 !important;
  opacity: 1 !important;
}
/* Belt-and-suspenders: any links inside the menu */
html:not(.dark) [data-mobile-menu] nav a,
html:not(.dark) [data-mobile-menu] nav a span {
  color: #000 !important;
  opacity: 1 !important;
}
/* Ensure anchor states don't revert to link/visited colors */
html:not(.dark) [data-mobile-menu] nav a:link,
html:not(.dark) [data-mobile-menu] nav a:visited,
html:not(.dark) [data-mobile-menu] nav a:hover,
html:not(.dark) [data-mobile-menu] nav a:active {
  color: #000 !important;
  opacity: 1 !important;
}

/* ========================================
   TEAMS PAGES – Light Mode polish only
   ======================================== */
html:not(.dark) [data-teams-layout] aside,
html:not(.dark) [data-teams-layout] main,
html:not(.dark) [data-teams-layout] .rounded-2xl,
html:not(.dark) [data-teams-layout] .rounded-xl,
html:not(.dark) [data-teams-layout] .rounded-lg {
  background: var(--bg-surface) !important;
  border: 1px solid var(--border-color) !important;
  box-shadow: var(--shadow-soft) !important;
}
html:not(.dark) [data-teams-layout] input,
html:not(.dark) [data-teams-layout] textarea {
  background-color: #f5f7fa !important;
  color: var(--text-primary) !important;
  border: 1px solid #d8dee4 !important;
}
html:not(.dark) [data-teams-layout] input::placeholder,
html:not(.dark) [data-teams-layout] textarea::placeholder {
  color: #6b7280;
}
html:not(.dark) [data-teams-layout] .text-slate-200,
html:not(.dark) [data-teams-layout] .text-slate-300,
html:not(.dark) [data-teams-layout] .text-slate-400,
html:not(.dark) [data-teams-layout] .text-slate-500 {
  color: var(--text-secondary) !important;
}
html:not(.dark) [data-teams-layout] .text-white {
  color: var(--text-primary) !important;
}

/* Left list items and badges */
html:not(.dark) [data-teams-layout] a[href*='/dashboard/teams/'] {
  background: transparent !important;
  border: 1px solid transparent !important;
  box-shadow: none !important;
}
html:not(.dark) [data-teams-layout] a[href*='/dashboard/teams/']:hover {
  background: #f3f4f6 !important;
  border-color: #d1d5db !important;
}
/* Selected row styles: Tailwind bg-slate-800/900 in dark becomes an indigo tint in light */
/* Selected row (exact Tailwind token present) */
html:not(.dark) [data-teams-layout] a[href*='/dashboard/teams/'][class~='bg-slate-800'],
html:not(.dark) [data-teams-layout] a[href*='/dashboard/teams/'][class~='bg-slate-900'] {
  background-color: #e0e7ff !important;
  border-color: #a5b4fc !important;
}
/* Typography inside rows */
html:not(.dark) [data-teams-layout] a[href*='/dashboard/teams/'] .text-slate-200 {
  color: #111827 !important;
}
html:not(.dark) [data-teams-layout] a[href*='/dashboard/teams/'] .text-slate-300 {
  color: #1f2937 !important;
}
html:not(.dark) [data-teams-layout] a[href*='/dashboard/teams/'] .text-slate-400 {
  color: #6b7280 !important;
}
/* Count badges in left team list (exclude activity-feed dots) */
html:not(.dark) [data-teams-layout] span.rounded-full:not(.activity-dot):not(.chat-dot) {
  background: #e5e7eb !important;
  color: #111827 !important;
  border: 1px solid #cbd5e1 !important;
}

/* Tab pills */
html:not(.dark) [data-teams-layout] [data-tab] {
  border-color: #d1d5db !important;
  color: #374151 !important;
}
html:not(.dark) [data-teams-layout] [data-tab].bg-indigo-500\/10,
html:not(.dark) [data-teams-layout] [data-tab][class*='bg-indigo-'],
html:not(.dark) [data-teams-layout] [data-tab][class*='text-indigo-'] {
  background-color: #e0e7ff !important;
  color: #3730a3 !important;
  border-color: #a5b4fc !important;
}
html:not(.dark) [data-teams-layout] [data-tab]:hover {
  background-color: #f3f4f6 !important;
}

/* Tables */
html:not(.dark) [data-teams-layout] table thead {
  background: #f3f4f6 !important;
  color: #374151 !important;
}
html:not(.dark) [data-teams-layout] table td,
html:not(.dark) [data-teams-layout] table th {
  border-color: #e5e7eb !important;
}
html:not(.dark) [data-teams-layout] .tc-scroll {
  scrollbar-color: #cbd5e1 #f1f5f9;
}

/* Fix: inner grids in Teams cards were picking up global grid background styles and creating a second box inside cards.  */
html:not(.dark) [data-teams-layout] .dashboard-grid,
html:not(.dark) [data-teams-layout] [class*='grid'][class*='gap-'] {
  background: transparent !important;
  border-radius: 0 !important;
  padding: 0 !important;
  box-shadow: none !important;
  border: none !important;
}

/* Team Activity feed bullets: make dots blue in light mode for visibility */
/* Blue bullets in Recent Activity (light mode) */
/* Keep blue bullets across themes; light mode adds darker outline for contrast */
html:not(.dark) [data-activity-feed] .activity-dot,
html:not(.dark) [data-activity-feed] .bg-indigo-400 {
  background-color: #2563eb !important; /* blue-600 */
  border: 2px solid #1d4ed8 !important; /* blue-700 ring for crispness on light bg */
}
html.dark [data-activity-feed] .activity-dot,
html.dark [data-activity-feed] .bg-indigo-400 {
  background-color: #60a5fa !important;
  border: none !important;
}

/* Recent Chat bullets (light mode) */
html:not(.dark) [data-chat-feed] .chat-dot,
html:not(.dark) [data-chat-feed] .bg-indigo-400 {
  background-color: #2563eb !important;
  border: 2px solid #1d4ed8 !important;
  box-shadow: 0 0 0 2px rgba(191, 219, 254, 0.65) !important; /* soft outer ring */
  background-image: none !important;
}

/* Important goals link visibility in light mode */
/* Important goals — keep yellow but more visible on white */
html:not(.dark) [data-teams-layout] a[href*='/goals']:not([class*='bg-']) {
  color: #f59e0b !important; /* amber-500 */
  font-weight: 600 !important;
  text-shadow: 0 0 0.5px rgba(0, 0, 0, 0.25);
}
html:not(.dark) [data-teams-layout] .text-amber-300 {
  color: #fbbf24 !important;
  font-weight: 600 !important;
}
html:not(.dark) [data-teams-layout] .text-amber-200 {
  color: #fde047 !important;
  font-weight: 600 !important;
}
html:not(.dark) [data-teams-layout] a[href*='/goals']:hover {
  color: #d97706 !important;
}

/* ==============================
   MARKETING NAV LIGHT MODE ONLY
   - Square corners, dashboard-grey background
   - Stronger logo visibility with black outline on glyphs only
   - Bold black nav link text
   ============================== */
/* Ensure the marketing header uses the same grey gradient and no rounding */
html:not(.dark) [data-marketing-nav],
html:not(.dark) header[data-marketing-nav] {
  background: linear-gradient(to bottom, var(--nav-light-top), var(--nav-light-bottom)) !important;
  border-bottom: 1px solid var(--nav-light-border) !important;
  border-radius: 0 !important;
}

/* Ensure the inner container matches dark-mode height in light mode */
html:not(.dark) [data-marketing-nav] .tc-nav-inner {
  height: var(--nav-h) !important;
}

/* Logo text: keep gradient fill but add crisp black outline for visibility */
html:not(.dark) [data-marketing-nav] .tc-logo {
  position: relative;
  font-weight: 800 !important;
  background-image: linear-gradient(to right, #1f2937, #6366f1, #7c3aed) !important;
  background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
  line-height: 1 !important; /* tighten for better vertical centering */
  transform: translateY(-6px);
}

/* Center nav links: bold and black in light mode, with subtle hover underline glow */
html:not(.dark) [data-marketing-nav] nav a,
html:not(.dark) [data-marketing-nav] nav a > span {
  color: #4b5563 !important;
  font-weight: 700 !important;
}
html:not(.dark) [data-marketing-nav] nav a:hover {
  color: #111827 !important;
}

/* Right side actions (Sign In/Get Started) keep existing colors; just neutralize accidental transparency */
/* QuickShift CTA — light mode only */
/* QuickShift CTA — keep purple gradient background, use black text in light mode */
/* QuickShift button: match dark mode in light mode (purple gradient, white text) */
html:not(.dark) [data-app-nav] a[data-quickshift-cta] {
  color: #ffffff !important;
}
html:not(.dark) [data-app-nav] a[data-quickshift-cta]:hover {
  color: #ffffff !important;
}

/* Force hamburger icon lines to black in light mode (override navbar clears) */
html:not(.dark) [data-app-nav] .tc-hamburger span > span {
  background-color: #000 !important;
}

/* ========================================
   Projects view toggles — Light mode OVERRIDE (final)
   Ensure these colors win over generic light button styles
   ======================================== */
html:not(.dark) button.view-toggle {
  background: transparent !important;
  border-width: 1px !important;
}
html:not(.dark) button.view-toggle.view-toggle--cards {
  color: #059669 !important;
  border-color: #34d399 !important;
}
html:not(.dark) button.view-toggle.view-toggle--kanban {
  color: #f59e0b !important;
  border-color: #fcd34d !important;
}
html:not(.dark) button.view-toggle.view-toggle--gantt {
  color: #ef4444 !important;
  border-color: #fca5a5 !important;
}
/* Stronger hover highlight so intent to click is clear */
html:not(.dark) button.view-toggle.view-toggle--cards:hover:not(.is-active) {
  background-color: rgba(16, 185, 129, 0.2) !important;
  border-color: #10b981 !important;
}
html:not(.dark) button.view-toggle.view-toggle--kanban:hover:not(.is-active) {
  background-color: rgba(245, 158, 11, 0.2) !important;
  border-color: #f59e0b !important;
}
html:not(.dark) button.view-toggle.view-toggle--gantt:hover:not(.is-active) {
  background-color: rgba(239, 68, 68, 0.2) !important;
  border-color: #ef4444 !important;
}
html:not(.dark) button.view-toggle.is-active.view-toggle--cards {
  background-color: #10b981 !important;
  color: #ffffff !important;
  border-color: #059669 !important;
  box-shadow: 0 2px 6px rgba(16, 185, 129, 0.22) !important;
}
html:not(.dark) button.view-toggle.is-active.view-toggle--kanban {
  background-color: #f59e0b !important;
  color: #111827 !important;
  border-color: #d97706 !important;
  box-shadow: 0 2px 6px rgba(245, 158, 11, 0.22) !important;
}
html:not(.dark) button.view-toggle.is-active.view-toggle--gantt {
  background-color: #ef4444 !important;
  color: #ffffff !important;
  border-color: #dc2626 !important;
  box-shadow: 0 2px 6px rgba(239, 68, 68, 0.22) !important;
}

/* Attribute-targeted overrides (highest specificity) */
html:not(.dark) body button.view-toggle[data-view-toggle='kanban']:not(.is-active) {
  background-color: #f59e0b !important; /* solid amber */
  color: #ffffff !important; /* white text to match others */
  border-color: #d97706 !important; /* amber-700 */
  box-shadow: 0 2px 6px rgba(245, 158, 11, 0.22) !important;
}
html:not(.dark) body button.view-toggle[data-view-toggle='gantt']:not(.is-active) {
  background-color: #ef4444 !important; /* solid rose/red */
  color: #ffffff !important; /* white text */
  border-color: #dc2626 !important; /* rose-700 */
  box-shadow: 0 2px 6px rgba(239, 68, 68, 0.22) !important;
}
html:not(.dark) body button.view-toggle.is-active[data-view-toggle='kanban'] {
  background-color: #f59e0b !important;
  color: #ffffff !important;
  border-color: #d97706 !important;
}
html:not(.dark) body button.view-toggle.is-active[data-view-toggle='gantt'] {
  background-color: #ef4444 !important;
  color: #ffffff !important;
  border-color: #dc2626 !important;
}
